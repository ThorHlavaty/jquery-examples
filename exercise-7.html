<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
      $(function () {
        $("#add-button").click(function () {
          console.log("clicked");
          $("#todo-list").append(
            `<li><input type="checkbox"><span class ="item">${$(
              "#description"
            ).val()}</span><button class="delete">x</button><button class="edit">edit</button></li>`
          );
        });
        $("#todo-list").on("click", ".delete", function (e) {
          $(this).parent().remove();
        });
        // let x = 0;
        $("#todo-list").on("click", ".edit", function (e) {
          // if (x === 0) {
          $(this)
            .parent()
            .append(
              '<input placeholder="new task" class="change"><button class="submit">submit</button>'
            );
          $(this).hide();
          // x += 1;
          // }
        });
        $("#todo-list").on("click", ".submit", function (e) {
          let changer = $(this).siblings(".change").val();
          console.log("click");
          $(this).parent().children(".item").text(changer);
          console.log($(".edit").val());
          $(this).siblings(".edit").show();
          $(this).siblings(".change").remove();
          $(this).remove();
        });
      });
    </script>
    <style>
      #wrapper {
        max-width: 480px;
        margin: auto;
      }

      #description,
      #search,
      #todo-list {
        font-size: 1.5em;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
      <input id="description" type="text" name="description" />
      <button id="add-button">Add Task</button>
      <ul id="todo-list">
        <li>Feed the cat</li>
      </ul>
    </div>
  </body>
</html>
